<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: variant-assigned-event.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: variant-assigned-event.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Custom event class dispatched by `web-experiment` element when a variant is assigned.
 * Extends the native Event class and provides specific properties for the
 * experiment details.
 *
 * Event listeners can access `event.experimentId`, `event.variantId`, and `event.trigger`.
 * @extends Event
 */
export class VariantAssignedEvent extends Event {
  /**
   * The standard event type string for this event.
   * @public
   * @static
   * @readonly
   * @type {string}
   */
  static EVENT_TYPE = 'web-experiment:variant-assigned';

  /**
   * The unique identifier of the experiment associated with this event.
   * @public
   * @readonly
   * @type {string}
   */
  experimentId;

  /**
   * The unique identifier of the variant that was assigned and displayed.
   * @public
   * @readonly
   * @type {string}
   */
  variantId;

  /**
   * Indicates the mechanism that resulted in this variant assignment.
   * - 'pre-selected': Variant was determined by a `selected` attribute (server-side).
   * - 'load': Variant was determined by loading from client-side storage.
   * - 'select': Variant was determined by client-side weighted random selection.
   * @public
   * @readonly
   * @type {'pre-selected' | 'load' | 'select'}
   */
  trigger;

  /**
   * Creates a new VariantAssignedEvent instance.
   * @param {string} experimentId - The experiment ID.
   * @param {string} variantId - The assigned variant ID.
   * @param {'pre-selected' | 'load' | 'select'} trigger - The trigger mechanism.
   */
  constructor(experimentId, variantId, trigger) {
    // Call the base Event constructor
    // Pass the standard event type and options (bubbles, composed)
    super(VariantAssignedEvent.EVENT_TYPE, {
      bubbles: true,  // Allows the event to bubble up the DOM tree
      composed: true // Allows the event to cross Shadow DOM boundaries
    });

    // Assign the specific details as read-only properties to the instance
    this.experimentId = experimentId;
    this.variantId = variantId;
    this.trigger = trigger;
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="StorageHandler.html">StorageHandler</a></li><li><a href="VariantAssignedEvent.html">VariantAssignedEvent</a></li><li><a href="WebExperiment.html">WebExperiment</a></li><li><a href="WebExperimentVariant.html">WebExperimentVariant</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sun May 04 2025 11:24:43 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>

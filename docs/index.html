<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>@dropbear/web-experiment</h1>
<p>A native web component designed for running lightweight A/B testing.</p>
<h2>Description</h2>
<p><code>@dropbear/web-experiment</code> is a web component that simplifies the process of running A/B tests directly on your website. It leverages custom elements to manage experiment variants and track user assignments.</p>
<h2>Installation</h2>
<p>You can install the package using npm:</p>
<pre class="prettyprint source lang-bash"><code>npm install @dropbear/web-experiment
</code></pre>
<h2>Usage</h2>
<p>Include the script in your HTML file:</p>
<pre class="prettyprint source lang-html"><code>&lt;script type=&quot;module&quot; src=&quot;node_modules/@dropbear/web-experiment/main.js&quot;>&lt;/script>
</code></pre>
<p>Alternatively, consider using a modern approach with Import Maps</p>
<pre class="prettyprint source lang-html"><code>&lt;script type=&quot;importmap&quot;>
  {
    &quot;imports&quot;: {
      &quot;@dropbear/web-experiment&quot;: &quot;https://ga.jspm.io/npm:@dropbear/web-experiment@0.1.0/main.js&quot;
    }
  }
&lt;/script>
&lt;script type=&quot;module&quot;>
  import &quot;@dropbear/web-experiment&quot;;
&lt;/script>
</code></pre>
<p>Now, include the following CSS on the page:</p>
<pre class="prettyprint source lang-css"><code>/* Rule 1: Hide the experiment until the web-experiment component has loaded */
web-experiment:not(:defined) {
  display: none;
}

/* Rule 2: Hide all variants within an experiment BY DEFAULT */
web-experiment>web-experiment-variant {
  display: none;
}

/* Rule 3: Define how the CHOSEN variant should display
This rule applies when the script removes the 'hidden' attribute */
web-experiment>web-experiment-variant:not([hidden]) {
  display: block;
  /* Or inline, flex, etc. - match your layout needs */
}

/* Rule 4: (Optional fallback/belt-and-suspenders)
Explicitly ensure elements with 'hidden' attr are hidden */
web-experiment-variant[hidden] {
  display: none !important;
}
</code></pre>
<p>Finally, use the custom elements in your HTML:</p>
<pre class="prettyprint source lang-html"><code>&lt;web-experiment experiment-id=&quot;headline-test&quot; data-storage=&quot;local&quot;>
  &lt;web-experiment-variant variant-id=&quot;short-headline&quot; weight=&quot;70&quot;>
    &lt;h1>Short Headline Example&lt;/h1>
  &lt;/web-experiment-variant>
  &lt;web-experiment-variant variant-id=&quot;long-headline&quot; weight=&quot;30&quot;>
    &lt;h1>This is my Long Headline Example&lt;/h1>
  &lt;/web-experiment-variant>
&lt;/web-experiment>
</code></pre>
<p>Set the probabilities for each variant. The sum of probabilities for all variants within an experiment should be 100.</p>
<p>Note that you can also integrate with Google Tag Manager or Google Analytics 4 automatically by just adding the appropriate attribute <code>gtm</code> or <code>ga</code> to the <code>&lt;web-experiment&gt;</code> tag like so:</p>
<pre class="prettyprint source lang-html"><code>&lt;!-- Will automatically send the right events to the data layer that GTM expects -->
&lt;web-experiment gtm experiment-id=&quot;headline-test&quot; data-storage=&quot;local&quot;>
  &lt;web-experiment-variant variant-id=&quot;short-headline&quot; weight=&quot;70&quot;>
    &lt;h1>Short Headline Example&lt;/h1>
  &lt;/web-experiment-variant>
  &lt;web-experiment-variant variant-id=&quot;long-headline&quot; weight=&quot;30&quot;>
    &lt;h1>This is my Long Headline Example&lt;/h1>
  &lt;/web-experiment-variant>
&lt;/web-experiment>
</code></pre>
<h2>License</h2>
<p>MIT</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="StorageHandler.html">StorageHandler</a></li><li><a href="VariantAssignedEvent.html">VariantAssignedEvent</a></li><li><a href="WebExperiment.html">WebExperiment</a></li><li><a href="WebExperimentVariant.html">WebExperimentVariant</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sat May 03 2025 22:59:20 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>